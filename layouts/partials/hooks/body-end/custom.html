<script>
    document.addEventListener("DOMContentLoaded", function () {
        const sections = document.querySelectorAll("section[id]");
        const navLinks = document.querySelectorAll(".navbar-nav .nav-link");
    
        function setActiveLink() {
            let scrollPosition = window.scrollY + 100; // Adjust threshold if needed
    
            sections.forEach((section) => {
                const top = section.offsetTop;
                const height = section.offsetHeight;
                const id = section.getAttribute("id");
    
                if (scrollPosition >= top && scrollPosition < top + height) {
                    navLinks.forEach((link) => {
                        link.classList.remove("active");
                        if (link.getAttribute("href") === `/~nikodim/#${id}`) {
                            link.classList.add("active");
                        }
                    });
                }
            });
        }
    
        window.addEventListener("scroll", setActiveLink);
        setActiveLink(); // Run on page load
    });
    
</script> 
<style>
    .navbar-nav .nav-link.active {
        color: #38bdf8;
    }
</style>